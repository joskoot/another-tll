<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="content-type" content="text/html; charset=utf-8"/><meta name="viewport" content="width=device-width, initial-scale=0.8"/><title>Meta-recursive interpreter
inspired by The Little LISPer</title><link rel="stylesheet" type="text/css" href="scribble.css" title="default"/><link rel="stylesheet" type="text/css" href="racket.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-style.css" title="default"/><link rel="stylesheet" type="text/css" href="manual-racket.css" title="default"/><script type="text/javascript" src="scribble-common.js"></script><script type="text/javascript" src="manual-racket.js"></script><!--[if IE 6]><style type="text/css">.SIEHidden { overflow: hidden; }</style><![endif]--></head><body id="scribble-racket-lang-org"><div class="tocset"><div class="tocview"><div class="tocviewlist tocviewlisttopspace"><div class="tocviewtitle"><table cellspacing="0" cellpadding="0"><tr><td style="width: 1em;"><a href="javascript:void(0);" title="Expand/Collapse" class="tocviewtoggle" onclick="TocviewToggle(this,&quot;tocview_0&quot;);">&#9658;</a></td><td></td><td><a href="" class="tocviewselflink" data-pltdoc="x">Meta-<wbr></wbr>recursive interpreter<br/>inspired by The Little LISPer</a></td></tr></table></div><div class="tocviewsublistonly" style="display: none;" id="tocview_0"><table cellspacing="0" cellpadding="0"><tr><td align="right">1&nbsp;</td><td><a href="#%28part._.Introduction%29" class="tocviewlink" data-pltdoc="x">Introduction</a></td></tr><tr><td align="right">2&nbsp;</td><td><a href="#%28part._restrictions%29" class="tocviewlink" data-pltdoc="x">Restrictions</a></td></tr><tr><td align="right">3&nbsp;</td><td><a href="#%28part._.Natural-numbers%29" class="tocviewlink" data-pltdoc="x">Natural numbers</a></td></tr><tr><td align="right">4&nbsp;</td><td><a href="#%28part._.More_functions_and_syntactic_forms_%29" class="tocviewlink" data-pltdoc="x">More functions and syntactic forms.</a></td></tr><tr><td align="right">5&nbsp;</td><td><a href="#%28part._internal-representation%29" class="tocviewlink" data-pltdoc="x">Internal representation</a></td></tr><tr><td align="right">6&nbsp;</td><td><a href="#%28part._meta-recursion%29" class="tocviewlink" data-pltdoc="x">Meta-<wbr></wbr>recursion</a></td></tr></table></div></div></div><div class="tocsub"><table class="tocsublist" cellspacing="0"><tr><td><span class="tocsublinknumber"></span><a href="#%28part._.Meta-recursive_interpreter_inspired_by_.The_.Little_.L.I.S.Per%29" class="tocsubseclink" data-pltdoc="x">Meta-<wbr></wbr>recursive interpreter<br/>inspired by The Little LISPer</a></td></tr><tr><td><span class="tocsublinknumber">1<tt>&nbsp;</tt></span><a href="#%28part._.Introduction%29" class="tocsubseclink" data-pltdoc="x">Introduction</a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">value</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">source-<wbr></wbr>code</span></span></a></td></tr><tr><td><span class="tocsublinknumber">2<tt>&nbsp;</tt></span><a href="#%28part._restrictions%29" class="tocsubseclink" data-pltdoc="x">Restrictions</a></td></tr><tr><td><a href="#%28form._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._lambda%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">lambda</span></span></a></td></tr><tr><td><a href="#%28form._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._let%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">let*</span></span></a></td></tr><tr><td><a href="#%28form._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._quote%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">quote</span></span></a></td></tr><tr><td><a href="#%28form._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._cond%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">cond</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._atom~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">atom?</span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._car%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">car</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._cdr%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cdr</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._cons%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">cons</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._null~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">null?</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._eq~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">eq?</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._gensym%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">gensym</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._show%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">show</span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._wrong%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">wrong</span></a></td></tr><tr><td><span class="tocsublinknumber">3<tt>&nbsp;</tt></span><a href="#%28part._.Natural-numbers%29" class="tocsubseclink" data-pltdoc="x">Natural numbers</a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._natural~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">natural?</span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._zero~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">zero?</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._zero%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym">zero</span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._add1%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">add1</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._sub1%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">sub1</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._%2B%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">+</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._-%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink"><span class="nobreak">-</span></span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._%2A%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">*</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._quotient%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">quotient</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._remainder%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">remainder</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._~3d%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">=</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._~3c%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">&lt;</span></span></a></td></tr><tr><td><span class="tocsublinknumber">4<tt>&nbsp;</tt></span><a href="#%28part._.More_functions_and_syntactic_forms_%29" class="tocsubseclink" data-pltdoc="x">More functions and syntactic forms.</a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._boolean~3f%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">boolean?</span></span></a></td></tr><tr><td><a href="#%28form._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._or%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">or</span></span></a></td></tr><tr><td><a href="#%28form._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._and%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktStxLink">and</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._list%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">list</span></span></a></td></tr><tr><td><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._not%29%29" class="tocsubnonseclink" data-pltdoc="x"><span class="RktSym"><span class="RktValLink">not</span></span></a></td></tr><tr><td><span class="tocsublinknumber">5<tt>&nbsp;</tt></span><a href="#%28part._internal-representation%29" class="tocsubseclink" data-pltdoc="x">Internal representation</a></td></tr><tr><td><span class="tocsublinknumber">6<tt>&nbsp;</tt></span><a href="#%28part._meta-recursion%29" class="tocsubseclink" data-pltdoc="x">Meta-<wbr></wbr>recursion</a></td></tr></table></div></div><div class="maincolumn"><div class="main"><h2><a name="(part._.Meta-recursive_interpreter_inspired_by_.The_.Little_.L.I.S.Per)"></a><a name="(mod-path._.'interpreter..rkt.')"></a>Meta-recursive interpreter<br/>inspired by The Little LISPer</h2><div class="SAuthorListBox"><span class="SAuthorList"><p class="author">Jacob J. A. Koot</p></span></div><p><table cellspacing="0" cellpadding="0" class="defmodule"><tr><td align="left" colspan="2"><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/require.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._require%29%29" class="RktStxLink" data-pltdoc="x">require</a></span><span class="stt"> </span><span class="RktVal">"interpreter.rkt"</span><span class="RktPn">)</span></td></tr></table></p><h3>1<tt>&nbsp;</tt><a name="(part._.Introduction)"></a>Introduction</h3><p>The penultimate question and answer in <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>
by Danial P. Friedman and Matthias Felleisen
<span class="nobreak">(1989, ISBN 0-574-24005-5)</span> read:</p><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td valign="top" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak">Does that mean we can run the interpreter</span><br/><span class="nobreak">on the interpreter if we do the transforma-</span><br/><span class="nobreak">tion with the Y-combinator?</span></p></td><td valign="top" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span></p></td><td valign="top" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="nobreak">Yes, but don&rsquo;t bother.</span></p></td></tr></table></blockquote><p>Well, I do bother and therefore I&rsquo;m giving it a shot in the form of two submodules in file
<span class="nobreak"><a href="interpreter.rkt">interpreter.rkt</a></span>.
Submodule <span class="stt">restrictions</span> provides restricted versions of the following syntactic forms and
functions:
<span class="nobreak"><a href="#%28elem._lambda%29" data-pltdoc="x"><span class="stt">lambda</span></a></span>, <span class="nobreak"><a href="#%28elem._let%2A%29" data-pltdoc="x"><span class="stt">let*</span></a></span>, <span class="nobreak"><a href="#%28elem._quote%29" data-pltdoc="x"><span class="stt">quote</span></a></span>, <span class="nobreak"><a href="#%28elem._cond%29" data-pltdoc="x"><span class="stt">cond</span></a></span>, <span class="nobreak"><a href="#%28elem._atom~3f%29" data-pltdoc="x"><span class="stt">atom?</span></a></span>, <span class="nobreak"><a href="#%28elem._car%29" data-pltdoc="x"><span class="stt">car</span></a></span>, <span class="nobreak"><a href="#%28elem._cdr%29" data-pltdoc="x"><span class="stt">cdr</span></a></span>,
<span class="nobreak"><a href="#%28elem._cons%29" data-pltdoc="x"><span class="stt">cons</span></a></span>, <span class="nobreak"><a href="#%28elem._eq~3f%29" data-pltdoc="x"><span class="stt">eq?</span></a></span>, <span class="nobreak"><a href="#%28elem._null~3f%29" data-pltdoc="x"><span class="stt">null?</span></a></span>,  <span class="nobreak"><a href="#%28elem._gensym%29" data-pltdoc="x"><span class="stt">gensym</span></a></span>, <span class="nobreak"><a href="#%28elem._show%29" data-pltdoc="x"><span class="stt">show</span></a></span> and <span class="nobreak"><a href="#%28elem._wrong%29" data-pltdoc="x"><span class="stt">wrong</span></a></span>.
The <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span> in submodule <span class="stt">interpreter</span>
is restricted to these syntactic forms and functions.
Because the interpreter is intended to be meta-recursive,
it implements these forms and functions and adds a few more.
The interpreter is exported in two shapes:</p><blockquote><table cellspacing="0" cellpadding="0"><tr><td><p><span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span></span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>:</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/function-contracts.html#%28form._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._-~3e%29%29" class="RktStxLink" data-pltdoc="x"><span class="nobreak">-&gt;</span></a></span><span class="stt"> </span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span><span class="stt"> </span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span><span class="RktPn">)</span></span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>the interpreter proper.</p></td></tr><tr><td><p><span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>:</p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></p></td><td><p><span class="hspace">&nbsp;</span></p></td><td><p>the source code of function <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span></span></p></td></tr></table></blockquote><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValDef RktValLink" data-pltdoc="x">value</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">sexpr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">sexpr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">The function can be called both from <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span> and from the interpreter itself.
Both <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span> and the interpreter call functions by value.
Therefore function <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span></span> receives the evaluated argument.
It evaluates the received value in its own top environment.
<span class="nobreak">Usually one</span> will call the interpreter with quoted argument, for example.</div></p><blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">cons</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(a b c)</span></p></td></tr></table></blockquote></blockquote><p>Nevertheless any argument yielding a <span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a></span> will do, for example:</p><p><div class="SIntrapara"><blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValLink" data-pltdoc="x">list</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">cons</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">'</span><span class="RktVal">a</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">b</span><span class="hspace">&nbsp;</span><span class="RktVal">c</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(a b c)</span></p></td></tr></table></blockquote></blockquote></div><div class="SIntrapara"><blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Reading.html#%28def._%28%28quote._~23~25kernel%29._read%29%29" class="RktValLink" data-pltdoc="x">read</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/stringport.html#%28def._%28%28quote._~23~25kernel%29._open-input-string%29%29" class="RktValLink" data-pltdoc="x">open-input-string</a></span><span class="hspace">&nbsp;</span><span class="RktVal">"(cons 'a '(b c))"</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(a b c)</span></p></td></tr></table></blockquote></blockquote></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValDef RktValLink" data-pltdoc="x">source-code</a></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Source code of procedure <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span></span>.
Because the interpreter is meta-recursive, it can be applied to its own <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span>,
but this must be done with some care such as not to print the result of
<span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="RktPn">)</span></span> without sharing enabled.
This is explained in section <a href="#%28part._meta-recursion%29" data-pltdoc="x">Meta-recursion</a>.</div></p><p>Predicate <span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span> is not provided. It complies to the following description:</p><blockquote><p><div class="SIntrapara"><a name="(elem._sexpr~3f)"></a>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxLink" data-pltdoc="x">or</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">atom?</span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._andmap%29%29" class="RktValLink" data-pltdoc="x">andmap</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._atom~3f)"></a>
</div><div class="SIntrapara"><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">atom?</span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxLink" data-pltdoc="x">or</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._null~3f%29%29" class="RktValLink" data-pltdoc="x">null?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">obj</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote></div></p></blockquote><p>The above implementation of <span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span> can be very slow for big and deeply nested expressions.
Moreover, it loops on cyclic lists in stead of rejecting them.
<span class="nobreak">A better</span> implementation can be found in section <a href="#%28part._meta-recursion%29" data-pltdoc="x">Meta-recursion</a>.</p><p>A <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a> must not contain numbers written with digits.
The interpreter implements functions for natural numbers only and
uses a representation in terms of lists of <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._null%29%29" class="RktValLink" data-pltdoc="x">null</a></span></span>.
<span class="nobreak">See section</span> <a href="#%28part._.Natural-numbers%29" data-pltdoc="x">Natural numbers</a>.</p><h3>2<tt>&nbsp;</tt><a name="(part._restrictions)"></a>Restrictions</h3><p>The <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span> is written in a very small subset of <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>.
The syntactic forms and functions are
<span class="nobreak"><a href="#%28elem._lambda%29" data-pltdoc="x"><span class="stt">lambda</span></a></span>, <span class="nobreak"><a href="#%28elem._let%2A%29" data-pltdoc="x"><span class="stt">let*</span></a></span>, <span class="nobreak"><a href="#%28elem._quote%29" data-pltdoc="x"><span class="stt">quote</span></a></span>, <span class="nobreak"><a href="#%28elem._cond%29" data-pltdoc="x"><span class="stt">cond</span></a></span>, <span class="nobreak"><a href="#%28elem._atom~3f%29" data-pltdoc="x"><span class="stt">atom?</span></a></span>, <span class="nobreak"><a href="#%28elem._car%29" data-pltdoc="x"><span class="stt">car</span></a></span>, <span class="nobreak"><a href="#%28elem._cdr%29" data-pltdoc="x"><span class="stt">cdr</span></a></span>,
<span class="nobreak"><a href="#%28elem._cons%29" data-pltdoc="x"><span class="stt">cons</span></a></span>, <span class="nobreak"><a href="#%28elem._eq~3f%29" data-pltdoc="x"><span class="stt">eq?</span></a></span> and <span class="nobreak"><a href="#%28elem._null~3f%29" data-pltdoc="x"><span class="stt">null?</span></a></span>. They are restricted as described below.
Two procedures are added: <span class="nobreak"><a href="#%28elem._show%29" data-pltdoc="x"><span class="stt">show</span></a></span> and <span class="nobreak"><a href="#%28elem._wrong%29" data-pltdoc="x"><span class="stt">wrong</span></a></span>.
The restrictions include those of the inside of the back cover of <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>.
They also restrict <span class="nobreak"><a href="#%28elem._lambda%29" data-pltdoc="x"><span class="stt">lambda</span></a></span>- and <span class="nobreak"><a href="#%28elem._cond%29" data-pltdoc="x"><span class="stt">cond</span></a></span>-forms according to the style of <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>.
This style also implies that every object is represented by a <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a>,
functions and syntactic forms included.
See section <a href="#%28part._internal-representation%29" data-pltdoc="x">Internal representation</a>.</p><p><div class="SIntrapara"><a name="(elem._lambda)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntactic form</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._lambda))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/lambda.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._lambda%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">lambda</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktVar">formal-argument</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">formal-argument</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">body</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span style="font-style: italic"><span class="stt"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">At least one <span class="nobreak"><span class="RktVar">formal-argument</span></span> required and the <span class="nobreak"><span class="RktVar">body</span></span> must consist of one
<a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a> only. <span class="nobreak">No optional</span> or keyword arguments,
neither a rest-argument.</div></p><p><div class="SIntrapara">The interpreter (procedure <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span></span>)
does not require that a lambda-form has at least one formal argument, for example:
</div><div class="SIntrapara"><blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">thunk</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">thunk</span></p></td></tr></table></blockquote></blockquote></div><div class="SIntrapara">The <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span> does not contain thunks, though.</div></p><p><div class="SIntrapara"><a name="(elem._let*)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntactic form</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._let*))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%2A%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">let*</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">var</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVar">body</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">var</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span class="RktVar">id</span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span style="font-style: italic"><span class="stt"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a></span></span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">body</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span style="font-style: italic"><span class="stt"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span> but restricted to a <span class="nobreak"><span class="RktVar">body</span></span> of one <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a> only.
<span class="nobreak"><a href="#%28elem._let%2A%29" data-pltdoc="x"><span class="stt">let*</span></a></span> is used to enhance read<span class="roman">&#173;</span>ability of the <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span> for the human eye.
Because the interpreter is intended to be meta-recursive,
it implements <span class="nobreak"><a href="#%28elem._let%2A%29" data-pltdoc="x"><span class="stt">let*</span></a></span> too.
The interpreter expands a <span class="nobreak"><a href="#%28elem._let%2A%29" data-pltdoc="x"><span class="stt">let*</span></a></span>-form to a nest of <span class="nobreak"><a href="#%28elem._lambda%29" data-pltdoc="x"><span class="stt">lambda</span></a></span>-forms
and evaluates the expanded form.
The expansion is hygienic.
Rebinding <span class="stt">lambda</span> does not confuse a <span class="nobreak"><a href="#%28elem._let%2A%29" data-pltdoc="x"><span class="stt">let*</span></a></span>-form, for example:</div></p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">let*</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">add1</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">let*</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">n</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">n</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(() () ())</span></p></td></tr></table></blockquote><blockquote><p><span class="Smaller">In the expansion, a <span class="nobreak"><a href="#%28elem._let%2A%29" data-pltdoc="x"><span class="stt">let*</span></a></span>-form uses an uninterned identifier for <span class="nobreak"><a href="#%28elem._lambda%29" data-pltdoc="x"><span class="stt">lambda</span></a></span>-forms.</span></p></blockquote><p><div class="SIntrapara"><a name="(elem._quote)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntactic form</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._quote))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/quote.html#%28form._%28%28quote._~23~25kernel%29._quote%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">quote</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">datum</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">datum</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span style="font-style: italic"><span class="stt"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>.
The <span class="nobreak"><span class="RktVar">datum</span></span> should be a <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a>,
but form <span class="nobreak"><a href="#%28elem._quote%29" data-pltdoc="x"><span class="stt">quote</span></a></span> does not check this.</div></p><p><div class="SIntrapara"><a name="(elem._cond)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntactic form</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._cond))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">cond</a></span></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktVar">test</span><span class="hspace">&nbsp;</span><span class="RktVar">expr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktMeta">...+</span><span class="RktPn">)</span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="stt">&nbsp;</span></td></tr><tr><td><table cellspacing="0" cellpadding="0" class="specgrammar"><tr><td align="right" valign="baseline"><span class="RktVar">test</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span style="font-style: italic"><span class="stt"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a></span></span></td></tr><tr><td align="right" valign="baseline"><span class="RktVar">expr</span></td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="center" valign="baseline">=</td><td align="left" valign="baseline"><span class="stt">&nbsp;</span></td><td align="left" valign="baseline"><span style="font-style: italic"><span class="stt"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a></span></span></td></tr></table></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>, but with the restriction that each <span class="nobreak"><span class="RktVar">test</span></span> must yield a
<span class="nobreak"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" data-pltdoc="x">boolean</a></span> and at least one <span class="nobreak"><span class="RktVar">test</span></span> must succeed.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._atom~3f))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><span class="RktSymDef RktSym">atom?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="nobreak"><span class="RktVal">#t</span></span> if and only if the <span class="nobreak"><span class="RktVar">obj</span></span> is a <span class="nobreak"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" data-pltdoc="x">symbol</a></span>,
a <span class="nobreak"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" data-pltdoc="x">boolean</a></span> or the empty list, else returns <span class="nobreak"><span class="RktVal">#f</span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._car)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._car))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._car%29%29" class="RktValDef RktValLink" data-pltdoc="x">car</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._non-empty-listof%29%29" class="RktValLink" data-pltdoc="x">non-empty-listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sexpr?</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>, but restricted to proper lists. <span class="nobreak">(First law of <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>)</span></div></p><p><div class="SIntrapara"><a name="(elem._cdr)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._cdr))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValDef RktValLink" data-pltdoc="x">cdr</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">lst</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">lst</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._non-empty-listof%29%29" class="RktValLink" data-pltdoc="x">non-empty-listof</a></span><span class="hspace">&nbsp;</span><span class="RktSym">sexpr</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>, but restricted to proper lists. <span class="nobreak">(Second law of <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>)</span></div></p><p><div class="SIntrapara"><a name="(elem._cons)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._cons))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValDef RktValLink" data-pltdoc="x">cons</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">kar</span><span class="hspace">&nbsp;</span><span class="RktVar">kdr</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kar</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">kdr</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>, but <span class="nobreak"><span class="RktVar">kdr</span></span> must be a proper list, which may be empty.
<span class="nobreak">(Third law of <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>)</span></div></p><p><div class="SIntrapara"><a name="(elem._null~3f)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._null~3f))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._null~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">null?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>, but restricted to lists. <span class="nobreak">(Fourth law of <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>)</span></div></p><p><div class="SIntrapara"><a name="(elem._eq~3f)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._eq~3f))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._eq~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">eq?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj-1</span><span class="hspace">&nbsp;</span><span class="RktVar">obj-2</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj-1</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._atom~3f%29" data-pltdoc="x"><span class="stt">atom?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj-2</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._atom~3f%29" data-pltdoc="x"><span class="stt">atom?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Like in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>, but restricted to <a href="#%28elem._atom~3f%29" data-pltdoc="x">atoms</a>
<span class="nobreak">(Fifth law of <span class="nobreak"><a href="https://7chan.org/pr/src/__The_Little_LISPer___3rd_Edition.pdf">The Little LISPer</a></span>)</span><br/>
For <a href="#%28elem._atom~3f%29" data-pltdoc="x">atoms</a> predicate <span class="nobreak"><a href="#%28elem._eq~3f%29" data-pltdoc="x"><span class="stt">eq?</span></a></span> returns the same as <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>&rsquo;s <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Equality.html#%28def._%28%28quote._~23~25kernel%29._equal~3f%29%29" class="RktValLink" data-pltdoc="x">equal?</a></span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._gensym)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._gensym))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._gensym%29%29" class="RktValDef RktValLink" data-pltdoc="x">gensym</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">name</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._immutable~3f%29%29" class="RktValLink" data-pltdoc="x">immutable?</a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">name</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/symbols.html#%28def._%28%28quote._~23~25kernel%29._symbol~3f%29%29" class="RktValLink" data-pltdoc="x">symbol?</a></span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._show)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._show))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><span class="RktSymDef RktSym">show</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">info</span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">info</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Prints the <span class="nobreak"><span class="RktVar">info</span></span> and <span class="nobreak"><span class="RktVar">obj</span></span> and returns the <span class="nobreak"><span class="RktVar">obj</span></span>.
This procedure is added in order that the user can include some tracing in her/his program.</div></p><p><div class="SIntrapara"><a name="(elem._wrong)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>procedure</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._wrong))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><span class="RktSymDef RktSym">wrong</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">why</span><span class="hspace">&nbsp;</span><span class="RktVar">what</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><a href="file:///C:/Program%20Files/Racket/doc/reference/eval-model.html#%28part._exn-model%29" data-pltdoc="x">exception</a></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">why</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">what</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/exns.html#%28def._%28%28quote._~23~25kernel%29._error%29%29" class="RktValLink" data-pltdoc="x">error</a></span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/Writing.html#%28def._%28%28quote._~23~25kernel%29._format%29%29" class="RktValLink" data-pltdoc="x">format</a></span><span class="stt"> </span><span class="RktVal">"~s"</span><span class="stt"> </span><span class="RktVar">why</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktVar">what</span><span class="RktPn">)</span></span> in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>,
but with <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexprs</a> as arguments.
Used in the <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span> for error messages,
but error detection is very poor.
Included for meta-recursion.
Hence available for the user too.</div></p><h3>3<tt>&nbsp;</tt><a name="(part._.Natural-numbers)"></a>Natural numbers</h3><p><a href="#%28elem._natural~3f%29" data-pltdoc="x">Natural numbers</a> are self-evaluating.
They are represented by lists of <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._null%29%29" class="RktValLink" data-pltdoc="x">null</a></span></span>:</p><blockquote><table cellspacing="0" cellpadding="0" style="border-collapse: collapse;"><tr><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>decimal notation</p></td><td align="center" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="left" style="border-top: 1px solid black;; border-bottom: 1px solid black;"><p>represented by</p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktVal">0</span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktVal">1</span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktVal">2</span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="center"><p><span class="nobreak"><span class="RktVal">3</span></span></p></td><td align="center"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="left"><p><span class="nobreak"><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktPn">)</span><span class="RktPn">)</span></span></p></td></tr><tr><td align="center" style="border-bottom: 1px solid black;"><p>etc</p></td><td align="center" style="border-bottom: 1px solid black;"><p><span class="hspace">&nbsp;&nbsp;&nbsp;</span></p></td><td align="left" style="border-bottom: 1px solid black;"><p>etc</p></td></tr></table></blockquote><p>The following predicates and functions are implemented.
The arguments must be <a href="#%28elem._natural~3f%29" data-pltdoc="x">natural numbers</a>,
but this is not checked.</p><p><div class="SIntrapara"><a name="(elem._natural~3f)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._natural~3f))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><span class="RktSymDef RktSym">natural?</span></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktPn">)</span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._zero~3f)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._zero~3f))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._zero~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">zero?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as <span class="nobreak"><span class="RktPn">(</span><span class="nobreak"><a href="#%28elem._eq~3f%29" data-pltdoc="x"><span class="stt">eq?</span></a></span><span class="stt"> </span><span class="RktVar">obj</span><span class="stt"> </span><span class="nobreak"><a href="#%28elem._zero%29" data-pltdoc="x"><span class="stt">zero</span></a></span><span class="RktPn">)</span></span>, but not raising an error if <span class="nobreak"><span class="RktVar">obj</span></span> is not an
<a href="#%28elem._atom~3f%29" data-pltdoc="x">atom</a>.</div></p><p><div class="SIntrapara"><a name="(elem._zero)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>value</p></div></div><p class="RForeground"><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._zero))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><span class="RktSymDef RktSym">zero</span></span></span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span><span class="hspace">&nbsp;</span>=<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._add1)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._add1))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValDef RktValLink" data-pltdoc="x">add1</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cons%29%29" class="RktValLink" data-pltdoc="x">cons</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="stt"> </span><span class="RktVar">n</span><span class="RktPn">)</span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._aub1)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._sub1))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._sub1%29%29" class="RktValDef RktValLink" data-pltdoc="x">sub1</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="nobreak"><a href="#%28elem._zero%29" data-pltdoc="x"><span class="stt">zero</span></a></span> if <span class="nobreak"><span class="RktVar">n</span></span> is <span class="nobreak"><a href="#%28elem._zero%29" data-pltdoc="x"><span class="stt">zero</span></a></span>, else same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValLink" data-pltdoc="x">cdr</a></span><span class="stt"> </span><span class="RktVar">n</span><span class="RktPn">)</span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._+)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._+))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValDef RktValLink" data-pltdoc="x">+</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._append%29%29" class="RktValLink" data-pltdoc="x">append</a></span><span class="stt"> </span><span class="RktVar">n</span><span class="stt"> </span><span class="RktVar">m</span><span class="RktPn">)</span></span>.<br/>
Within the <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span> implemented without using function <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._append%29%29" class="RktValLink" data-pltdoc="x">append</a></span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._-)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._-))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._-%29%29" class="RktValDef RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="nobreak"><span class="RktVar">n</span></span> minus <span class="nobreak"><span class="RktVar">m</span></span>, but <span class="nobreak"><a href="#%28elem._zero%29" data-pltdoc="x"><span class="stt">zero</span></a></span> if <span class="nobreak"><span class="RktPn">(</span><span class="nobreak"><a href="#%28elem._~3c%29" data-pltdoc="x"><span class="stt">&lt;</span></a></span><span class="stt"> </span><span class="RktVar">n</span><span class="stt"> </span><span class="RktVar">m</span><span class="RktPn">)</span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._*)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._*))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValDef RktValLink" data-pltdoc="x">*</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Product of <span class="nobreak"><span class="RktVar">n</span></span> and <span class="nobreak"><span class="RktVar">m</span></span>.</div></p><p><div class="SIntrapara"><a name="(elem._quotient)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._quotient))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._quotient%29%29" class="RktValDef RktValLink" data-pltdoc="x">quotient</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._zero~3f%29" data-pltdoc="x"><span class="stt">zero?</span></a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Greatest <a href="#%28elem._natural~3f%29" data-pltdoc="x">natural number</a> not greater than <span class="nobreak"><span class="RktVar">n</span></span>/<span class="nobreak"><span class="RktVar">m</span></span>.
Error when <span class="nobreak"><span class="RktVar">m</span></span> is <span class="nobreak"><a href="#%28elem._zero%29" data-pltdoc="x"><span class="stt">zero</span></a></span>.</div></p><p><div class="SIntrapara"><a name="(elem._remainder)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._remainder))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._remainder%29%29" class="RktValDef RktValLink" data-pltdoc="x">remainder</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._and%2Fc%29%29" class="RktValLink" data-pltdoc="x">and/c</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fprivate%2Fmisc..rkt%29._not%2Fc%29%29" class="RktValLink" data-pltdoc="x">not/c</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._zero~3f%29" data-pltdoc="x"><span class="stt">zero?</span></a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></blockquote></div><div class="SIntrapara">Same as <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._-%29%29" class="RktValLink" data-pltdoc="x"><span class="nobreak">-</span></a></span><span class="stt"> </span><span class="RktVar">n</span><span class="stt"> </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2A%29%29" class="RktValLink" data-pltdoc="x">*</a></span><span class="stt"> </span><span class="RktVar">m</span><span class="stt"> </span><span class="RktPn">(</span><span class="nobreak"><a href="#%28elem._quotient%29" data-pltdoc="x"><span class="stt">quotient</span></a></span><span class="stt"> </span><span class="RktVar">n</span><span class="stt"> </span><span class="RktVar">m</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></span>, but computed without computing the quotient.
Error when <span class="nobreak"><span class="RktVar">m</span></span> is <span class="nobreak"><a href="#%28elem._zero%29" data-pltdoc="x"><span class="stt">zero</span></a></span>.</div></p><p><div class="SIntrapara"><a name="(elem._~3d)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>relation</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._~3d))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3d%29%29" class="RktValDef RktValLink" data-pltdoc="x">=</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr></table></blockquote></div></p><p><div class="SIntrapara"><a name="(elem._~3c)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>relation</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._~3c))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._~3c%29%29" class="RktValDef RktValLink" data-pltdoc="x">&lt;</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span><span class="RktVar">m</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">n</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">m</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._natural~3f%29" data-pltdoc="x"><span class="stt">natural?</span></a></span></td></tr></table></blockquote></div></p><h3>4<tt>&nbsp;</tt><a name="(part._.More_functions_and_syntactic_forms_)"></a>More functions and syntactic forms.</h3><p>In addition the interpreter implements the following predicate, forms and functions.</p><p><div class="SIntrapara"><a name="(elem._boolean~3f)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>predicate</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._boolean~3f))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValDef RktValLink" data-pltdoc="x">boolean?</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">obj</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">obj</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara"><span class="nobreak"><span class="RktVal">#t</span></span> if the <span class="nobreak"><span class="RktVar">obj</span></span> is a <span class="nobreak"><a href="#%28elem._boolean~3f%29" data-pltdoc="x">boolean</a></span>,
else <span class="nobreak"><span class="RktVal">#f</span></span></div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntactic form</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._or))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._or%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">or</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">q</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Same as in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>. If all but the last <span class="nobreak"><span class="RktVar">q</span></span> are <span class="nobreak"><span class="RktVal">#f</span></span>,
the last <span class="nobreak"><span class="RktVar">q</span></span> is evaluated in tail position.</div></p><p><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>syntactic form</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(form._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._and))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxDef RktStxLink" data-pltdoc="x">and</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">q</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span></p></blockquote></td></tr></table></blockquote></div><div class="SIntrapara">Same as in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>. If none of the <span class="nobreak"><span class="RktVar">q</span></span>s preceding the last one is <span class="nobreak"><span class="RktVal">#f</span></span>,
the last <span class="nobreak"><span class="RktVar">q</span></span> is evaluated in tail position.</div></p><p><div class="SIntrapara"><a name="(elem._list)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._list))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list%29%29" class="RktValDef RktValLink" data-pltdoc="x">list</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">element</span><span class="hspace">&nbsp;</span><span class="RktMeta">...</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/data-structure-contracts.html#%28def._%28%28lib._racket%2Fcontract%2Fbase..rkt%29._listof%29%29" class="RktValLink" data-pltdoc="x">listof</a></span><span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span><span class="RktPn">)</span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">element</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Same as in <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>, but every element must be a <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a>.
This is the one and only function in the interpreter accepting an arbitrary number of arguments.
It is implemented with functions of fixed numbers of arguments only, though.</div></p><p><div class="SIntrapara"><a name="(elem._not)"></a>
</div><div class="SIntrapara"><blockquote class="SVInsetFlow"><table cellspacing="0" cellpadding="0" class="boxed RBoxed"><tr><td><blockquote class="SubFlow"><div class="RBackgroundLabel SIEHidden"><div class="RBackgroundLabelInner"><p>function</p></div></div><p class="RForeground"><span class="RktPn">(</span><a name="(def._(.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._not))"></a><span title="Provided from: &quot;interpreter.rkt&quot;"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._not%29%29" class="RktValDef RktValLink" data-pltdoc="x">not</a></span></span><span class="hspace">&nbsp;</span><span class="RktVar">b</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span>&rarr;<span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/booleans.html#%28def._%28%28quote._~23~25kernel%29._boolean~3f%29%29" class="RktValLink" data-pltdoc="x">boolean?</a></span></p></blockquote></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVar">b</span><span class="hspace">&nbsp;</span>:<span class="hspace">&nbsp;</span><span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span></td></tr></table></blockquote></div><div class="SIntrapara">Returns <span class="nobreak"><span class="RktVal">#t</span></span> if <span class="nobreak"><span class="RktVar">b</span></span> is <span class="nobreak"><span class="RktVal">#f</span></span>, returns <span class="nobreak"><span class="RktVal">#f</span></span> in all other cases.</div></p><h3>5<tt>&nbsp;</tt><a name="(part._internal-representation)"></a>Internal representation</h3><p>Within the interpreter syntactic forms and functions,
both closures made by <span class="nobreak"><a href="#%28elem._lambda%29" data-pltdoc="x"><span class="stt">lambda</span></a></span> and primitive ones,
are represented by <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexprs</a>. For example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">add1</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(primitive add1)</span></p></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">x</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">add1</span><span class="hspace">&nbsp;</span><span class="RktVal">x</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(closure (() (x) (add1 x)))</span></p></td></tr></table></blockquote><p>Knowing this we can do the following bogus examples:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">primitive</span><span class="hspace">&nbsp;</span><span class="RktVal">add1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(() () ())</span></p></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">closure</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">n</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">add1</span><span class="hspace">&nbsp;</span><span class="RktVal">n</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(() () ())</span></p></td></tr></table></blockquote><p>Or even:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">closure</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">n</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">primitive</span><span class="hspace">&nbsp;</span><span class="RktVal">add1</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">n</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">(() () ())</span></p></td></tr></table></blockquote><p>The bogus can be avoided by using uninterned symbols <span class="stt">closure</span> and <span class="stt">primitive</span>
within the <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span>,
but the restrictions do not provide the means for this.
Another method within the restrictions would be to represent closures and primitives
and even syntactic forms by functions.
See package <span class="nobreak"><a href="https://github.com/joskoot/The-Little-LISPer">The Little Lisper</a></span>.
But even with this system bogus is not entirely excluded.
See at the end of the documentation of package
<span class="nobreak"><a href="https://github.com/joskoot/The-Little-LISPer">The Little Lisper</a></span>.</p><h3>6<tt>&nbsp;</tt><a name="(part._meta-recursion)"></a>Meta-recursion</h3><p>As the interpreter is meta-recursive, it can evaluate its own <span class="nobreak"><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></span>.
However, the result of <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="RktPn">)</span></span> is a very big <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a>,
too big to be shown here. It also is too big for function <span class="nobreak"><a href="#%28elem._sexpr~3f%29" data-pltdoc="x"><span class="stt">sexpr?</span></a></span>.
A better definition is:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._make-hasheq%29%29" class="RktValLink" data-pltdoc="x">make-hasheq</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._pair~3f%29%29" class="RktValLink" data-pltdoc="x">pair?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/case.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._case%29%29" class="RktStxLink" data-pltdoc="x">case</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-ref%29%29" class="RktValLink" data-pltdoc="x">hash-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">not-yet-visited</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">not-yet-visited</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-set%21%29%29" class="RktValLink" data-pltdoc="x">hash-set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">visiting</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._and%29%29" class="RktStxLink" data-pltdoc="x">and</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._car%29%29" class="RktValLink" data-pltdoc="x">car</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._cdr%29%29" class="RktValLink" data-pltdoc="x">cdr</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-set%21%29%29" class="RktValLink" data-pltdoc="x">hash-set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">visited</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">visiting</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">visited</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">atom?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">value-of-source-code</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/time.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._time%29%29" class="RktStxLink" data-pltdoc="x">time</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">sexpr?</span><span class="hspace">&nbsp;</span><span class="RktSym">value-of-source-code</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">cpu time: 0 real time: 0 gc time: 0</span></p></td></tr><tr><td><p><span class="RktRes">#t</span></p></td></tr></table></blockquote><p>The times are in milliseconds.
Using a hash it is possible to count the flattened length of <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="RktPn">)</span></span>.
<span class="nobreak">We already</span> know that <span class="stt">value-of-source-code</span> has no cycles and therefore have no need to
check subexpressions not already being visited while counting.</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">flattened-length</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._make-hash%29%29" class="RktValLink" data-pltdoc="x">make-hash</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">flattened-length</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-ref%29%29" class="RktValLink" data-pltdoc="x">hash-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._list~3f%29%29" class="RktValLink" data-pltdoc="x">list?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/let.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._let%29%29" class="RktStxLink" data-pltdoc="x">let</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym">n</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/procedures.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._apply%29%29" class="RktValLink" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym">flattened-length</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-set%21%29%29" class="RktValLink" data-pltdoc="x">hash-set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktSym">n</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-set%21%29%29" class="RktValLink" data-pltdoc="x">hash-set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">1</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">flattened-length</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/time.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._time%29%29" class="RktStxLink" data-pltdoc="x">time</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">flattened-length</span><span class="hspace">&nbsp;</span><span class="RktSym">value-of-source-code</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">cpu time: 62 real time: 27 gc time: 0</span></p></td></tr><tr><td><p><span class="RktRes">16115901788629723408138</span></p></td></tr></table></blockquote><p>How is it possible that <span class="stt">value-of-source-code</span> fits in memory?<br/>
Well, let&rsquo;s count the number of distinct pairs:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nr-of-distinct-pairs</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._make-hash%29%29" class="RktValLink" data-pltdoc="x">make-hash</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nr-of-distinct-pairs</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._cond%29%29" class="RktStxLink" data-pltdoc="x">cond</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-ref%29%29" class="RktValLink" data-pltdoc="x">hash-ref</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">#f</span><span class="RktPn">)</span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._pair~3f%29%29" class="RktValLink" data-pltdoc="x">pair?</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash-set%21%29%29" class="RktValLink" data-pltdoc="x">hash-set!</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/hashtables.html#%28def._%28%28quote._~23~25kernel%29._hash%29%29" class="RktValLink" data-pltdoc="x">hash</a></span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="hspace">&nbsp;</span><span class="RktVal">#t</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._add1%29%29" class="RktValLink" data-pltdoc="x">add1</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/procedures.html#%28def._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._apply%29%29" class="RktValLink" data-pltdoc="x">apply</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._%2B%29%29" class="RktValLink" data-pltdoc="x">+</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym">nr-of-distinct-pairs</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/if.html#%28form._%28%28lib._racket%2Fprivate%2Fletstx-scheme..rkt%29._else%29%29" class="RktStxLink" data-pltdoc="x">else</a></span><span class="hspace">&nbsp;</span><span class="RktVal">0</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nr-of-distinct-pairs</span><span class="hspace">&nbsp;</span><span class="RktSym">x</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/time.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._time%29%29" class="RktStxLink" data-pltdoc="x">time</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym">nr-of-distinct-pairs</span><span class="hspace">&nbsp;</span><span class="RktSym">value-of-source-code</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">cpu time: 62 real time: 27 gc time: 0</span></p></td></tr><tr><td><p><span class="RktRes">1065</span></p></td></tr></table></blockquote><p>Many parts in <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="RktPn">)</span></span> are shared and sharing may be nested.
This is caused by the use of <span class="nobreak">Y-combinators</span> in the <span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span>,
which do a self-apply, doubling part of the code, possibly in a nested manner.
Compare this with:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/strings.html#%28def._%28%28lib._racket%2Fformat..rkt%29._~7er%29%29" class="RktValLink" data-pltdoc="x">~r</a></span><span class="hspace">&nbsp;</span><span class="RktPn">#:notation</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">exponential</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._expt%29%29" class="RktValLink" data-pltdoc="x">expt</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._expt%29%29" class="RktValLink" data-pltdoc="x">expt</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._expt%29%29" class="RktValLink" data-pltdoc="x">expt</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/generic-numbers.html#%28def._%28%28quote._~23~25kernel%29._expt%29%29" class="RktValLink" data-pltdoc="x">expt</a></span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="hspace">&nbsp;</span><span class="RktVal">2</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">"2.00353e+19728"</span></p></td></tr></table></blockquote><p>It is possible to use the interpreter meta-recursively. As an example:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/define.html#%28form._%28%28lib._racket%2Fprivate%2Fbase..rkt%29._define%29%29" class="RktStxLink" data-pltdoc="x">define</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fibonacci-code</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">let*</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">self-apply</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">Y3</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">g</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">self-apply</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">g</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">z</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">f</span><span class="hspace">&nbsp;</span><span class="RktVal">f</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">x</span><span class="hspace">&nbsp;</span><span class="RktVal">y</span><span class="hspace">&nbsp;</span><span class="RktVal">z</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">fibo</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">Y3</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">fibo</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">Return a list of the first n+2 numbers of the</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktCmt">;</span><span class="RktCmt">&nbsp;</span><span class="RktCmt">fibonacci sequence starting with first and second.</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">lambda</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">first</span><span class="hspace">&nbsp;</span><span class="RktVal">second</span><span class="hspace">&nbsp;</span><span class="RktVal">n</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">cond</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">zero?</span><span class="hspace">&nbsp;</span><span class="RktVal">n</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">cons</span><span class="hspace">&nbsp;</span><span class="RktVal">first</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">cons</span><span class="hspace">&nbsp;</span><span class="RktVal">second</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">#t</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">cons</span><span class="hspace">&nbsp;</span><span class="RktVal">first</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">fibo</span><span class="hspace">&nbsp;</span><span class="RktVal">second</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">+</span><span class="hspace">&nbsp;</span><span class="RktVal">first</span><span class="hspace">&nbsp;</span><span class="RktVal">second</span><span class="RktVal">)</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">sub1</span><span class="hspace">&nbsp;</span><span class="RktVal">n</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">fibo</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></td></tr></table></blockquote><p>The last three lines are the <a href="#%28elem._natural~3f%29" data-pltdoc="x">natural numbers</a> 0, 1 and 10.
We use function <span class="nobreak"><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._length%29%29" class="RktValLink" data-pltdoc="x">length</a></span></span> to convert <a href="#%28elem._natural~3f%29" data-pltdoc="x">natural numbers</a>
of the interpreter to <span class="nobreak"><a href="file:///C:/Program%20Files/Racket/doc/reference/number-types.html#%28def._%28%28quote._~23~25kernel%29._exact-nonnegative-integer~3f%29%29" data-pltdoc="x">those</a></span> of <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>.
First without meta-recursion:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._length%29%29" class="RktValLink" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/time.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._time%29%29" class="RktStxLink" data-pltdoc="x">time</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktSym">fibonacci-code</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">cpu time: 0 real time: 0 gc time: 0</span></p></td></tr><tr><td><p><span class="RktRes">(0 1 1 2 3 5 8 13 21 34 55 89)</span></p></td></tr></table></blockquote><p>Now with one level of meta-recursion:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._length%29%29" class="RktValLink" data-pltdoc="x">length</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/time.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._time%29%29" class="RktStxLink" data-pltdoc="x">time</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktRdr">,</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">,</span><span class="RktVal">fibonacci-code</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktOut">cpu time: 937 real time: 487 gc time: 62</span></p></td></tr><tr><td><p><span class="RktRes">(0 1 1 2 3 5 8 13 21 34 55 89)</span></p></td></tr></table></blockquote><p>With two levels of meta-recursion:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28lib._racket%2Fprivate%2Fmap..rkt%29._map%29%29" class="RktValLink" data-pltdoc="x">map</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/pairs.html#%28def._%28%28quote._~23~25kernel%29._length%29%29" class="RktValLink" data-pltdoc="x">length</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/time.html#%28form._%28%28lib._racket%2Fprivate%2Fmore-scheme..rkt%29._time%29%29" class="RktStxLink" data-pltdoc="x">time</a></span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="hspace">&nbsp;&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktRdr">,</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">,</span><span class="RktVal">source-code</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">,</span><span class="RktVal">fibonacci-code</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr></table></td></tr><tr><td><p><span class="RktOut">cpu time: 321031 real time: 321614 gc time: 9562</span></p></td></tr><tr><td><p><span class="RktRes">(0 1 1 2 3 5 8 13 21 34 55 89)</span></p></td></tr></table></blockquote><p>No example of meta-recursion at depth 3. Takes too much time. For example:</p><blockquote><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span></td></tr><tr><td><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktRdr">,</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span></td></tr><tr><td><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">,</span><span class="RktVal">source-code</span></td></tr><tr><td><span class="hspace">&nbsp;&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">,</span><span class="RktVal">source-code</span><span class="hspace">&nbsp;</span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">add1</span><span class="hspace">&nbsp;</span><span class="RktVal">(</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">(</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></td></tr></table></blockquote></blockquote><p>took 20 minutes on my PC (AMD Ryzen 5 1500X Quad-core Processor, 3.50 GHz),<br/>
using DrRacket 8.3 bc, debugging off.
More examples in file <span class="nobreak"><a href="examples.rkt">examples.rkt</a></span>.</p><p>The meta-recursivity holds for right associative nesting only, as in</p><blockquote><p><span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="stt"> </span><span class="RktVal">`</span><span class="RktVal">(</span><span class="RktRdr">,</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">(</span><span class="RktVal">,</span><span class="RktVal">source-code</span><span class="stt"> </span><span class="RktVal">'</span><span class="RktVal">,</span><span class="RktVal">fibonacci-code</span><span class="RktVal">)</span><span class="RktVal">)</span><span class="RktPn">)</span></span></p></blockquote><p>However left association does not work because <span class="nobreak"><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="stt"> </span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="RktPn">)</span></span>
is a <a href="#%28elem._sexpr~3f%29" data-pltdoc="x">sexpr</a>, not a procedure in the sense of <span class="nobreak"><a href="https://racket-lang.org/">Racket</a></span>:</p><blockquote class="SCodeFlow"><table cellspacing="0" cellpadding="0" class="RktBlk"><tr><td><span class="stt">&gt; </span><span class="RktPn">(</span><span class="RktSym"><a href="file:///C:/Program%20Files/Racket/doc/reference/procedures.html#%28def._%28%28quote._~23~25kernel%29._procedure~3f%29%29" class="RktValLink" data-pltdoc="x">procedure?</a></span><span class="hspace">&nbsp;</span><span class="RktPn">(</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._value%29%29" class="RktValLink" data-pltdoc="x">value</a></span><span class="hspace">&nbsp;</span><span class="RktSym"><a href="#%28def._%28.E~3a~5c.The-.Little-.L.I.S.Per~5canother~5cinterpreter..rkt._source-code%29%29" class="RktValLink" data-pltdoc="x">source-code</a></span><span class="RktPn">)</span><span class="RktPn">)</span></td></tr><tr><td><p><span class="RktRes">#f</span></p></td></tr></table></blockquote><p><span class="Larger"><span class="Larger"><span style="font-weight: bold">The end</span></span></span></p></div></div><div id="contextindicator">&nbsp;</div></body></html>